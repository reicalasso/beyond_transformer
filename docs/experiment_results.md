# Experiment Results Management\n\nThis document describes how experiment results are managed in the Beyond Transformer project.\n\n## Overview\n\nThe project uses a structured approach to experiment results management with separate directories for raw results, processed data, visualizations, logs, and summaries.\n\n## Directory Structure\n\n```\nresults/\n├── experiments/              # Raw experiment results\n│   ├── state_count_sweep/    # Results from state count sweep\n│   ├── dynamic_allocation/   # Results from dynamic allocation experiments\n│   └── ...                   # Other experiment results\n├── processed/                # Processed/analyzed results\n├── visualizations/           # Generated plots and visualizations\n├── logs/                     # Experiment logs\n└── summaries/                # Summary reports\n```\n\n## Results Management API\n\nThe project includes an `ExperimentResults` class in `src/nsm/experiment_results.py` for managing experiment results.\n\n### Initializing Results Manager\n\n```python\nfrom nsm.experiment_results import ExperimentResults\n\n# Create results manager\nresults_manager = ExperimentResults(\"results\")\n```\n\n### Saving Experiment Results\n\n```python\n# Example results data\nresults_data = {\n    \"state_counts\": [8, 16, 32, 64],\n    \"accuracies\": [53.2, 65.8, 72.1, 75.3],\n    \"memory_usages\": [100.5, 200.1, 400.3, 800.7],\n    \"training_times\": [120.5, 240.1, 480.3, 960.7]\n}\n\n# Save results\nfilepath = results_manager.save_experiment_results(\"state_count_sweep\", results_data)\n```\n\n### Loading Experiment Results\n\n```python\n# Load latest results\nresults = results_manager.load_experiment_results(\"state_count_sweep\")\n\n# Load specific timestamp\nresults = results_manager.load_experiment_results(\"state_count_sweep\", \"20230101_120000\")\n```\n\n### Working with Results as DataFrames\n\n```python\n# Get results as pandas DataFrame\ndf = results_manager.get_experiment_results_df(\"state_count_sweep\")\nprint(df.head())\n```\n\n### Saving Processed Results\n\n```python\n# Save processed data\nprocessed_data = {\"mean_accuracy\": 66.6, \"std_accuracy\": 9.8}\nresults_manager.save_processed_results(\"processed_analysis\", processed_data)\n```\n\n### Saving Visualizations\n\n```python\nimport matplotlib.pyplot as plt\n\n# Create a plot\nfig, ax = plt.subplots()\nax.plot([1, 2, 3], [1, 4, 2])\n\n# Save visualization\nresults_manager.save_visualization(\"sample_plot\", fig)\n```\n\n### Saving Logs and Summaries\n\n```python\n# Save log\nlog_content = \"Training completed successfully\"\nresults_manager.save_log(\"training_log\", log_content)\n\n# Save summary\nsummary_content = \"# Experiment Summary\\n\\nThis experiment tested...\"\nresults_manager.save_summary(\"experiment_summary\", summary_content)\n```\n\n## Visualization Scripts\n\nThe project includes scripts for visualizing experiment results:\n\n### visualize_results.py\n\nThis script creates plots from experiment results:\n\n```bash\npython scripts/visualize_results.py\n```\n\nIt generates:\n- State count sweep visualizations\n- Dynamic allocation visualizations\n- Experiment comparison plots\n\n### summarize_results.py\n\nThis script creates summary reports from experiment results:\n\n```bash\npython scripts/summarize_results.py\n```\n\nIt generates:\n- State count sweep summaries\n- Dynamic allocation summaries\n- Overall experiment summaries\n\n## Best Practices\n\n- **Save results immediately**: Save results as soon as an experiment completes\n- **Use descriptive names**: Use clear, descriptive names for experiments and results files\n- **Include metadata**: Include timestamps and other metadata with results\n- **Process and visualize**: Process raw results and create visualizations for better understanding\n- **Summarize findings**: Create summary reports to capture key findings\n- **Version control summaries**: Commit summary reports to version control for tracking progress